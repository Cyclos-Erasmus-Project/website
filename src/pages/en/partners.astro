---
import BaseLayout from '../../layouts/BaseLayout.astro'
import { useTranslations, type Language } from '../../i18n/translations'
import assocLogo from '../../assets/assoc.png'
import cslLogo from '../../assets/cssa.png'
import afisLogo from '../../assets/afis.png'

const lang: Language = 'en'
const base = import.meta.env.BASE_URL.replace(/\/$/, '')
const t = useTranslations(lang)

const partners = [
  {
    id: 'flvs',
    name: 'FLVS',
    fullName: 'Fédérons Les Villes pour la Santé',
    country: 'France',
    city: 'Saint-André-Lez-Lille',
    lead: true,
    description: 'FLVS is a non-profit organization recognized as being of general interest since 1991. The organization deploys the Vivons en Forme (VIF) programme with over 30 years of experience in more than 300 cities across France. The programme focuses on preventing overweight and obesity in children and has expanded to support health, well-being, and healthy living environments for all, with particular focus on disadvantaged and vulnerable members of society.',
    expertise: ['Health promotion', 'Social marketing methodology', 'Community-based interventions', 'Behavioral change programs'],
    website: null
  },
  {
    id: 'assoc',
    name: 'ASSOC',
    fullName: 'Asociatia Profesionala Neguvernamentala de Asistenta Sociala',
    country: 'Romania',
    city: 'Baia Mare',
    lead: false,
    logo: assocLogo.src,
    description: 'ASSOC is a non-governmental organization established in 1995 as a social services provider. Their mission is to foster social integration and improve life conditions of vulnerable groups through education and work. With over 60 implemented projects, ASSOC has developed educational and social services for people with disabilities, Roma communities, elderly people, migrants, and families in crisis.',
    expertise: ['Social services', 'Disability support', 'Vocational counseling', 'Integration services'],
    website: 'https://www.assoc.ro'
  },
  {
    id: 'afis',
    name: 'AFIS',
    fullName: 'Austrian Forum for Integration and Sustainability',
    country: 'Austria',
    city: 'Vienna',
    lead: false,
    description: 'The Austrian Forum for Integration and Sustainability (AFIS) was established by experts in international educational project management, education, and social integration. The organization aims to address the growing need for inclusive educational support and integration of young people from disadvantaged backgrounds, including youth with disabilities, migrant youth, and those from economically disadvantaged families.',
    expertise: ['Educational project management', 'Youth empowerment', 'Social integration', 'Non-formal education'],
    website: 'https://www.oefis.org'
  },
  {
    id: 'csl',
    logo: cslLogo.src,
    name: 'Computer Solutions SA',
    fullName: 'Computer Solutions SA',
    country: 'Greece',
    city: 'Athens',
    lead: false,
    description: 'Computer Solutions SA is a Greek company with expertise in digital solutions and technology development. They bring technical expertise to the CYCLOS project, particularly in developing the digital platform and learning application that will support the project\'s educational objectives.',
    expertise: ['Digital platform development', 'E-learning solutions', 'Technology integration', 'Software development'],
    website: 'https://www.csl.gr'
  }
]
---

<BaseLayout title={t('nav.partners')} lang={lang}>
  <!-- Hero -->
  <section class="bg-gradient-to-br from-blue-600 to-blue-800 text-white py-16 md:py-24">
    <div class="container-wide">
      <h1 class="text-4xl md:text-5xl font-bold mb-4">{t('partners.title')}</h1>
      <p class="text-xl text-blue-100 max-w-3xl">
        {t('partners.subtitle')}
      </p>
    </div>
  </section>

  <!-- Partners Map Overview -->
  <section class="section-alt">
    <div class="container-wide">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
        {partners.map((partner) => (
          <a href={`#${partner.id}`} class="card p-6 hover:shadow-lg transition-all hover:-translate-y-1">
            <div class="w-16 h-16 mx-auto mb-3 bg-lime-100 rounded-full flex items-center justify-center overflow-hidden">
              {partner.logo ? (
                <img src={partner.logo} alt={partner.name} class="w-12 h-12 object-contain" />
              ) : (
                <span class="text-2xl font-bold text-lime-600">{partner.name.charAt(0)}</span>
              )}
            </div>
            <h3 class="font-semibold">{partner.name}</h3>
            <p class="text-sm text-gray-500">{partner.country}</p>
            {partner.lead && (
              <span class="inline-block mt-2 text-xs bg-lime-100 text-lime-700 px-2 py-1 rounded-full">
                {t('partners.lead')}
              </span>
            )}
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- Partner Details -->
  <section class="section">
    <div class="container-wide space-y-16">
      {partners.map((partner, index) => (
        <div id={partner.id} class="scroll-mt-24">
          <div class:list={['card overflow-hidden', index % 2 === 0 ? '' : 'md:flex-row-reverse']}>
            <div class="md:flex">
              <div class="md:w-1/3 bg-gradient-to-br from-lime-500 to-blue-600 p-8 text-white flex flex-col justify-center">
                <div class="w-24 h-24 bg-white/20 rounded-full flex items-center justify-center mb-6 overflow-hidden">
                  {partner.logo ? (
                    <img src={partner.logo} alt={partner.name} class="w-20 h-20 object-contain" />
                  ) : (
                    <span class="text-4xl font-bold">{partner.name.charAt(0)}</span>
                  )}
                </div>
                <h2 class="text-2xl font-bold mb-2">{partner.name}</h2>
                <p class="text-white/90 text-sm mb-4">{partner.fullName}</p>
                <div class="space-y-2 text-sm">
                  <p class="flex items-center">
                    <svg class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                    {partner.city}, {partner.country}
                  </p>
                  {partner.website && (
                    <a href={partner.website} target="_blank" rel="noopener noreferrer" class="flex items-center hover:underline">
                      <svg class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
                      </svg>
                      {t('partners.website')}
                    </a>
                  )}
                </div>
                {partner.lead && (
                  <div class="mt-4 inline-block bg-white/20 px-3 py-1 rounded-full text-sm">
                    {t('partners.lead')}
                  </div>
                )}
              </div>
              <div class="md:w-2/3 p-8">
                <p class="text-gray-600 mb-6">{partner.description}</p>
                <h3 class="font-semibold text-lg mb-3">Areas of Expertise</h3>
                <div class="flex flex-wrap gap-2">
                  {partner.expertise.map((exp) => (
                    <span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm">{exp}</span>
                  ))}
                </div>
              </div>
            </div>
          </div>
        </div>
      ))}
    </div>
  </section>

  <!-- Partnership CTA -->
  <section class="bg-gradient-to-r from-lime-600 to-blue-600 text-white py-16">
    <div class="container-wide text-center">
      <h2 class="text-3xl font-bold mb-4">Working Together Across Europe</h2>
      <p class="text-xl text-white/90 mb-8 max-w-2xl mx-auto">
        Our diverse partnership brings together expertise in health promotion, social services, education, and technology to create meaningful impact for disadvantaged youth.
      </p>
      <a href={`${base}/${lang}/contact/`} class="btn bg-white text-lime-700 hover:bg-lime-50">
        {t('nav.contact')}
      </a>
    </div>
  </section>
</BaseLayout>
